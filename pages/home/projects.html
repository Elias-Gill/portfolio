{{ define "projects" }}
<link rel="stylesheet" href="/assets/css/slides.css">
<div class="columns is-multiline">
  <!-- Project 1: Walldo -->
  <div class="column is-one-third">
    <article class="message is-bordered">
      <div class="message-header">
        <p>Walldo</p>
      </div>
      <div class="message-body">
        <div class="slider">
          <div class="slides">
            <div id="walldo-1">
              <img src="/assets/projects/walldo_1.png" alt="Walldo 1">
            </div>
            <div id="walldo-2">
              <img src="/assets/projects/walldo_2.png" alt="Walldo 2">
            </div>
          </div>
          <div class="slider-nav">
            <a href="#walldo-1" aria-label="Slide 1"></a>
            <a href="#walldo-2" aria-label="Slide 2"></a>
          </div>
        </div>
        <p class="mt-3">
          Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.
        </p>
      </div>
    </article>
  </div>
  <!-- Project 2: Interprete REPL -->
  <div class="column is-one-third">
    <article class="message is-bordered">
      <div class="message-header">
        <p>Interprete REPL</p>
      </div>
      <div class="message-body">
        <div class="slider">
          <div class="slides">
            <div id="interprete-1">
              <img src="/assets/projects/interprete_1.png" alt="Interprete 1">
            </div>
            <div id="interprete-2">
              <img src="/assets/projects/interprete_2.png" alt="Interprete 2">
            </div>
          </div>
          <div class="slider-nav">
            <a href="#interprete-1" aria-label="Slide 1"></a>
            <a href="#interprete-2" aria-label="Slide 2"></a>
          </div>
        </div>
        <p class="mt-3">
          Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.
        </p>
      </div>
    </article>
  </div>
  <!-- Project 3: Simulador de fluidos -->
  <div class="column is-one-third">
    <article class="message is-bordered">
      <div class="message-header">
        <p>Simulador de fluidos</p>
      </div>
      <div class="message-body">
        <div class="slider">
          <div class="slides">
            <div id="simulador-1">
              <img src="/assets/projects/simulador_1.png" alt="Simulador 1">
            </div>
            <div id="simulador-2">
              <img src="/assets/projects/simulador_2.png" alt="Simulador 2">
            </div>
          </div>
          <div class="slider-nav">
            <a href="#simulador-1" aria-label="Slide 1"></a>
            <a href="#simulador-2" aria-label="Slide 2"></a>
          </div>
        </div>
        <p class="mt-3">
          Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.
        </p>
      </div>
    </article>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Get all sliders on the page
    const sliders = document.querySelectorAll('.slider');

    sliders.forEach(slider => {
      const slides = slider.querySelector('.slides');
      const navLinks = slider.querySelectorAll('.slider-nav a');

      // Function to update the active dot
      const updateActiveDot = () => {
        const scrollPosition = slides.scrollLeft;
        const slideWidth = slides.clientWidth;
        const activeIndex = Math.round(scrollPosition / slideWidth);

        navLinks.forEach((link, index) => {
          if (index === activeIndex) {
            link.setAttribute('aria-current', 'true');
          } else {
            link.removeAttribute('aria-current');
          }
        });
      };

      // Add scroll event listener to the slides container
      slides.addEventListener('scroll', updateActiveDot);

      // Add click event listeners to the navigation dots
      navLinks.forEach((link, index) => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const slideWidth = slides.clientWidth;
          slides.scrollTo({
            left: index * slideWidth,
            behavior: 'smooth',
          });
        });
      });

      // Set the initial active dot on page load
      updateActiveDot();
    });
  });
</script>
{{ end }}
