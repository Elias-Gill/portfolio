{{ define "projects" }}
<style>
  /* General Styles */
  .is-bordered {
    border: 1px solid var(--gruvbox-secondary-fg);
    border-radius: 8px;
    margin-bottom: 1.5rem;
  }

  .message-header {
    background-color: var(--gruvbox-primary-bg);
    color: var(--gruvbox-cyan);
    border-top-left-radius: 8px;
    border-top-right-radius: 8px;
  }

  .message-body {
    background-color: var(--gruvbox-secondary-bg);
    color: var(--gruvbox-fg);
    border-bottom-left-radius: 8px;
    border-bottom-right-radius: 8px;
  }

  /* Slider Styles */
  .slider {
    width: 100%;
    text-align: center;
    overflow: hidden;
    margin-bottom: 1rem;
  }

  .slides {
    display: flex;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    border-radius: 8px;
  }

  .slides > div {
    scroll-snap-align: start;
    flex-shrink: 0;
    width: 100%;
    height: 200px;
    margin-right: 1rem;
    border-radius: 8px;
    background: var(--gruvbox-bg);
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .slides img {
    object-fit: cover;
    width: 100%;
    height: 100%;
    border-radius: 8px;
  }

  /* Slider Navigation Styles */
  .slider > a {
    display: inline-block;
    width: 10px; /* Smaller circle size */
    height: 10px; /* Smaller circle size */
    background: var(--gruvbox-fg); /* Default circle color */
    border-radius: 50%; /* Make it a circle */
    margin: 0.5rem; /* Spacing between circles */
    transition: background 0.3s ease; /* Smooth transition */
    text-indent: -9999px; /* Hide the text (numbers) */
    overflow: hidden; /* Ensure the text is hidden */
  }

  /* Active/Hover State */
  .slider > a:hover,
  .slider > a:focus {
    background: var(--gruvbox-cyan); /* Change color on hover/focus */
  }

  /* Active Slide Indicator */
  .slider > a[aria-current="true"] {
    background: var(--gruvbox-orange); /* Highlight the active slide */
  }

  /* Responsive Design */
  @media screen and (max-width: 768px) {
    .columns {
      flex-direction: column;
    }

    .slides > div {
      height: 150px;
    }
  }
</style>
<div class="columns is-multiline">
  <!-- Project 1: Walldo -->
  <div class="column is-one-third">
    <article class="message is-bordered">
      <div class="message-header">
        <p>Walldo</p>
      </div>
      <div class="message-body">
        <div class="slider">
          <a href="#walldo-1" aria-label="Slide 1"></a>
          <a href="#walldo-2" aria-label="Slide 2"></a>
          <div class="slides">
            <div id="walldo-1">
              <img src="/assets/projects/walldo_1.png" alt="Walldo 1">
            </div>
            <div id="walldo-2">
              <img src="/assets/projects/walldo_2.png" alt="Walldo 2">
            </div>
          </div>
        </div>
        <p class="mt-3">
          Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.
        </p>
      </div>
    </article>
  </div>
  <!-- Project 2: Interprete REPL -->
  <div class="column is-one-third">
    <article class="message is-bordered">
      <div class="message-header">
        <p>Interprete REPL</p>
      </div>
      <div class="message-body">
        <div class="slider">
          <a href="#interprete-1" aria-label="Slide 1"></a>
          <a href="#interprete-2" aria-label="Slide 2"></a>
          <div class="slides">
            <div id="interprete-1">
              <img src="/assets/projects/interprete_1.png" alt="Interprete 1">
            </div>
            <div id="interprete-2">
              <img src="/assets/projects/interprete_2.png" alt="Interprete 2">
            </div>
          </div>
        </div>
        <p class="mt-3">
          Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.
        </p>
      </div>
    </article>
  </div>
  <!-- Project 3: Simulador de fluidos -->
  <div class="column is-one-third">
    <article class="message is-bordered">
      <div class="message-header">
        <p>Simulador de fluidos</p>
      </div>
      <div class="message-body">
        <div class="slider">
          <a href="#simulador-1" aria-label="Slide 1"></a>
          <a href="#simulador-2" aria-label="Slide 2"></a>
          <div class="slides">
            <div id="simulador-1">
              <img src="/assets/projects/simulador_1.png" alt="Simulador 1">
            </div>
            <div id="simulador-2">
              <img src="/assets/projects/simulador_2.png" alt="Simulador 2">
            </div>
          </div>
        </div>
        <p class="mt-3">
          Lorem ipsum dolor sit amet, qui minim labore adipisicing minim sint cillum sint consectetur cupidatat.
        </p>
      </div>
    </article>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // Get all sliders on the page
    const sliders = document.querySelectorAll('.slider');

    sliders.forEach(slider => {
      const slides = slider.querySelector('.slides');
      const navLinks = slider.querySelectorAll('a');

      // Add scroll event listener to the slides container
      slides.addEventListener('scroll', () => {
        const scrollPosition = slides.scrollLeft;
        const slideWidth = slides.clientWidth;

        // Calculate the active slide index
        const activeIndex = Math.round(scrollPosition / slideWidth);

        // Update the active state of the navigation circles
        navLinks.forEach((link, index) => {
          if (index === activeIndex) {
            link.setAttribute('aria-current', 'true');
          } else {
            link.removeAttribute('aria-current');
          }
        });
      });

      // Add click event listeners to the navigation circles
      navLinks.forEach((link, index) => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const slideWidth = slides.clientWidth;
          slides.scrollTo({
            left: index * slideWidth,
            behavior: 'smooth',
          });
        });
      });
    });
  });
</script>
{{ end }}
